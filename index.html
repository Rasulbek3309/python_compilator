<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeRunner Pro - Online Compiler</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6c5ce7;
            --primary-dark: #5649c0;
            --secondary: #00cec9;
            --dark: #2d3436;
            --light: #f5f6fa;
            --success: #00b894;
            --error: #d63031;
            --warning: #fdcb6e;
            --code-bg: #1e1f29;
            --card-bg: rgba(255, 255, 255, 0.1);
            --glass-bg: rgba(255, 255, 255, 0.15);
            --glass-border: rgba(255, 255, 255, 0.2);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            min-height: 100vh;
            color: var(--light);
            overflow-x: hidden;
        }

        /* Animated Background Elements */
        .bg-elements {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            overflow: hidden;
        }

        .bg-element {
            position: absolute;
            border-radius: 50%;
            background: rgba(108, 92, 231, 0.1);
            animation: float 15s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-1000px) rotate(720deg);
                opacity: 0;
            }
        }

        /* Splash Screen Animation */
        .splash-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: var(--dark);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            animation: fadeOut 1s ease-in-out 2s forwards;
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                visibility: hidden;
            }
        }

        .splash-logo {
            font-size: 4rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 2rem;
            position: relative;
            display: inline-block;
        }

        .splash-logo::after {
            content: "Pro";
            position: absolute;
            top: -10px;
            right: -30px;
            font-size: 1.5rem;
            background: var(--secondary);
            color: white;
            padding: 0.2rem 0.5rem;
            border-radius: 5px;
            transform: rotate(15deg);
        }

        .loading-bar {
            width: 200px;
            height: 4px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px;
            overflow: hidden;
            position: relative;
        }

        .loading-progress {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            animation: loading 2s ease-in-out forwards;
        }

        @keyframes loading {
            to {
                width: 100%;
            }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            opacity: 0;
            transform: translateY(20px);
            animation: fadeInUp 0.8s ease-out 2.2s forwards;
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .header {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            transform: perspective(500px) rotateX(0deg);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }

        .header:hover {
            transform: perspective(500px) rotateX(5deg);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .header h1 {
            color: white;
            font-size: 2.8rem;
            text-align: center;
            margin-bottom: 10px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            position: relative;
            display: inline-block;
            left: 50%;
            transform: translateX(-50%);
        }

        .header h1::after {
            content: "";
            position: absolute;
            bottom: -10px;
            left: 0;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 3px;
        }

        .header p {
            color: rgba(255, 255, 255, 0.8);
            text-align: center;
            font-size: 1.2rem;
            max-width: 700px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .main-content {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
        }

        .editor-section, .output-section {
            background: var(--glass-bg);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            border: 1px solid var(--glass-border);
            transition: all 0.3s ease;
        }

        .editor-section:hover, .output-section:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 40px rgba(0, 0, 0, 0.3);
        }

        .section-title {
            font-size: 1.4rem;
            margin-bottom: 20px;
            color: white;
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 600;
        }

        .section-title::before {
            content: "";
            display: inline-block;
            width: 10px;
            height: 25px;
            background: linear-gradient(var(--primary), var(--secondary));
            border-radius: 5px;
        }

        .controls {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .language-select {
            padding: 12px 20px;
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            font-size: 14px;
            background: rgba(0, 0, 0, 0.2);
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
            flex: 1;
            min-width: 150px;
            font-family: 'Poppins', sans-serif;
        }

        .language-select:hover {
            border-color: var(--primary);
            box-shadow: 0 0 15px rgba(108, 92, 231, 0.3);
        }

        .language-select:focus {
            outline: none;
            border-color: var(--secondary);
        }

        .run-btn {
            padding: 12px 30px;
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(108, 92, 231, 0.3);
        }

        .run-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(108, 92, 231, 0.4);
            background: linear-gradient(135deg, var(--primary-dark), var(--primary));
        }

        .run-btn:active {
            transform: translateY(0);
        }

        .clear-btn {
            padding: 12px 20px;
            background: linear-gradient(135deg, #e17055, #d63031);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 14px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            font-family: 'Poppins', sans-serif;
            box-shadow: 0 4px 15px rgba(214, 48, 49, 0.3);
        }

        .clear-btn:hover {
            background: linear-gradient(135deg, #d63031, #e17055);
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(214, 48, 49, 0.4);
        }

        .clear-btn:active {
            transform: translateY(0);
        }

        .code-editor {
            width: 100%;
            height: 400px;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            resize: vertical;
            background: rgba(0, 0, 0, 0.3);
            color: white;
            transition: all 0.3s ease;
            line-height: 1.5;
        }

        .code-editor:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 20px rgba(108, 92, 231, 0.3);
            background: rgba(0, 0, 0, 0.4);
        }

        .output {
            width: 100%;
            height: 400px;
            font-family: 'Fira Code', monospace;
            font-size: 14px;
            padding: 20px;
            border: 2px solid rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            background: var(--code-bg);
            color: #00ff00;
            overflow-y: auto;
            white-space: pre-wrap;
            line-height: 1.5;
        }

        .output::-webkit-scrollbar {
            width: 8px;
        }

        .output::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.2);
            border-radius: 4px;
        }

        .output::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 4px;
        }

        .output::-webkit-scrollbar-thumb:hover {
            background: var(--primary-dark);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }

        .feature-card {
            background: var(--card-bg);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 1px solid var(--glass-border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .feature-card::before {
            content: "";
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: linear-gradient(
                to bottom right,
                rgba(108, 92, 231, 0.1),
                rgba(0, 206, 201, 0.1),
                rgba(108, 92, 231, 0.1)
            );
            transform: rotate(45deg);
            z-index: -1;
            transition: all 0.5s ease;
        }

        .feature-card:hover {
            transform: translateY(-10px) scale(1.03);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
        }

        .feature-card:hover::before {
            transform: rotate(45deg) translateY(-20px);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 20px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            display: inline-block;
            transition: all 0.3s ease;
        }

        .feature-card:hover .feature-icon {
            transform: scale(1.2) rotate(5deg);
        }

        .feature-card h3 {
            font-size: 1.3rem;
            margin-bottom: 15px;
            color: white;
            font-weight: 600;
        }

        .feature-card p {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.95rem;
            line-height: 1.6;
        }

        .loading {
            display: none;
            text-align: center;
            padding: 20px;
            color: var(--secondary);
        }

        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid var(--secondary);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error {
            color: var(--error);
        }

        .success {
            color: var(--success);
        }

        /* Terminal-like styling for output */
        .terminal-header {
            background: rgba(0, 0, 0, 0.3);
            padding: 8px 15px;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            display: flex;
            align-items: center;
            margin: -20px -20px 15px -20px;
        }

        .terminal-dots {
            display: flex;
            gap: 8px;
            margin-right: 15px;
        }

        .terminal-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
        }

        .terminal-dot:nth-child(1) {
            background: #ff5f56;
        }

        .terminal-dot:nth-child(2) {
            background: #ffbd2e;
        }

        .terminal-dot:nth-child(3) {
            background: #27c93f;
        }

        .terminal-title {
            font-size: 0.8rem;
            color: rgba(255, 255, 255, 0.7);
        }

        /* Floating action button */
        .fab {
            position: fixed;
            bottom: 30px;
            right: 30px;
            width: 60px;
            height: 60px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
            font-size: 1.5rem;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
            cursor: pointer;
            z-index: 100;
            transition: all 0.3s ease;
            animation: pulse 2s infinite;
        }

        .fab:hover {
            transform: scale(1.1) rotate(90deg);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.4);
        }

        @keyframes pulse {
            0% {
                box-shadow: 0 0 0 0 rgba(108, 92, 231, 0.7);
            }
            70% {
                box-shadow: 0 0 0 15px rgba(108, 92, 231, 0);
            }
            100% {
                box-shadow: 0 0 0 0 rgba(108, 92, 231, 0);
            }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 2rem;
            }

            .header p {
                font-size: 1rem;
            }

            .controls {
                flex-direction: column;
            }

            .language-select, .run-btn, .clear-btn {
                width: 100%;
            }

            .feature-card {
                padding: 20px;
            }
        }

        /* Typewriter effect for initial output */
        .typewriter {
            overflow: hidden;
            border-right: 2px solid var(--secondary);
            white-space: nowrap;
            margin: 0 auto;
            animation:
                typing 3.5s steps(40, end),
                blink-caret 0.75s step-end infinite;
        }

        @keyframes typing {
            from { width: 0 }
            to { width: 100% }
        }

        @keyframes blink-caret {
            from, to { border-color: transparent }
            50% { border-color: var(--secondary) }
        }
    </style>
</head>
<body>
    <!-- Animated Background Elements -->
    <div class="bg-elements" id="bgElements"></div>

    <!-- Splash Screen -->
    <div class="splash-screen" id="splashScreen">
        <div class="splash-logo">CodeRunner</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
    </div>

    <div class="container">
        <div class="header">
            <h1>üöÄ CodeRunner Pro</h1>
            <p>Professional Online Code Compiler - Write, Run, and Debug Your Code in Real-time</p>
        </div>

        <div class="main-content">
            <div class="output-section">
                <h2 class="section-title">
                    üìä Output / Preview
                </h2>
                <div class="loading" id="loading">
                    <div class="spinner"></div>
                    <p>Running your code...</p>
                </div>
                <div class="output" id="output">
                    <div class="terminal-header">
                        <div class="terminal-dots">
                            <div class="terminal-dot"></div>
                            <div class="terminal-dot"></div>
                            <div class="terminal-dot"></div>
                        </div>
                        <div class="terminal-title">CodeRunner Pro Terminal</div>
                    </div>
                    <div class="typewriter">
                        Welcome to CodeRunner Pro! üéâ
                    </div>
                    <div style="margin-top: 20px; white-space: pre-wrap;">
Select a programming language and start coding!

Example codes:
- JavaScript: console.log("Hello World!");
- Python: print("Hello World!")
- Java: System.out.println("Hello World!");
- C++: cout << "Hello World!" << endl;
- PHP: <?php echo "Hello World!"; ?>

Ready to run your code? Click the Run button! üöÄ
                    </div>
                </div>
                <iframe id="htmlPreview" style="display: none; width: 100%; height: 400px; border: none; border-radius: 10px; background: white;"></iframe>
            </div>

            <div class="editor-section">
                <h2 class="section-title">
                    üíª Code Editor
                </h2>
                <div class="controls">
                    <select class="language-select" id="languageSelect">
                        <option value="javascript">JavaScript</option>
                        <option value="python">Python</option>
                        <option value="java">Java</option>
                        <option value="cpp">C++</option>
                        <option value="c">C</option>
                        <option value="html">HTML</option>
                        <option value="css">CSS</option>
                        <option value="php" selected>PHP</option>
                        <option value="ruby">Ruby</option>
                        <option value="go">Go</option>
                    </select>
                    <button class="run-btn" onclick="runCode()">
                        ‚ñ∂Ô∏è Run Code
                    </button>
                    <button class="clear-btn" onclick="clearCode()">
                        üóëÔ∏è Clear
                    </button>
                </div>
                <textarea class="code-editor" id="codeEditor" placeholder="Write your code here..."><?php
// Modern PHP Example (PHP 8.0+)
declare(strict_types=1);

function greet(string $name): string {
    return "Hello, $name!";
}

// Named arguments example
function createDeveloper(string $name, array $skills = []): array {
    return compact('name', 'skills');
}

// Match expression (PHP 8.0+)
function getDeveloperLevel(int $experience): string {
    return match(true) {
        $experience < 1 => 'Junior',
        $experience >= 1 && $experience < 3 => 'Middle',
        $experience >= 3 => 'Senior',
        default => 'Unknown'
    };
}

// Arrow functions (PHP 7.4+)
$addSkill = fn(array $developer, string $skill): array => [
    ...$developer,
    'skills' => [...$developer['skills'], $skill]
];

// Class with constructor property promotion (PHP 8.0+)
class Developer {
    public function __construct(
        public string $name,
        public array $skills = []
    ) {}

    public function addSkill(string $skill): void {
        $this->skills[] = $skill;
    }

    public function __toString(): string {
        return sprintf(
            "Developer: %s\nSkills: %s",
            $this->name,
            implode(', ', $this->skills)
        );
    }
}

// Usage examples
echo greet("World") . "\n\n";

// Using named arguments
$dev = createDeveloper(name: "You", skills: ["PHP", "Laravel"]);
$dev = $addSkill($dev, "MySQL");
print_r($dev);

echo "\nLevel: " . getDeveloperLevel(2) . "\n\n";

// Using class
$phpDev = new Developer("PHP Expert", ["PHP", "Composer"]);
$phpDev->addSkill("Symfony");
echo $phpDev;

// Nullsafe operator example (PHP 8.0+)
$team = [
    'lead' => new Developer('Team Lead', ['PHP', 'Architecture']),
    'members' => [
        new Developer('Dev 1', ['PHP', 'Testing']),
        new Developer('Dev 2', ['JavaScript', 'Vue.js'])
    ]
];

echo "\n\nTeam lead first skill: " . ($team['lead']?->skills[0] ?? 'Unknown');
?></textarea>
            </div>
        </div>

        <div class="features">
            <div class="feature-card">
                <div class="feature-icon">‚ö°</div>
                <h3>Fast Execution</h3>
                <p>Lightning-fast code execution with optimized performance and low latency</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üåê</div>
                <h3>Multiple Languages</h3>
                <p>Support for 10+ programming languages including Python, Java, C++ and more</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üí°</div>
                <h3>Smart Editor</h3>
                <p>Intelligent code editor with syntax highlighting and auto-completion</p>
            </div>
            <div class="feature-card">
                <div class="feature-icon">üîí</div>
                <h3>Secure Environment</h3>
                <p>Safe and secure sandboxed code execution environment</p>
            </div>
        </div>
    </div>

    <!-- Floating Action Button -->
    <div class="fab" onclick="runCode()">
        ‚ñ∂Ô∏è
    </div>

    <script>
        // Create animated background elements
        function createBgElements() {
            const bgElements = document.getElementById('bgElements');
            const elementCount = 15;

            for (let i = 0; i < elementCount; i++) {
                const element = document.createElement('div');
                element.classList.add('bg-element');

                // Random size between 50 and 200px
                const size = Math.random() * 150 + 50;
                element.style.width = `${size}px`;
                element.style.height = `${size}px`;

                // Random position
                element.style.left = `${Math.random() * 100}%`;
                element.style.top = `${Math.random() * 100}%`;

                // Random animation duration between 10 and 25s
                element.style.animationDuration = `${Math.random() * 15 + 10}s`;

                // Random delay
                element.style.animationDelay = `${Math.random() * 5}s`;

                bgElements.appendChild(element);
            }
        }

        // Sample codes for different languages
        const sampleCodes = {
            javascript: `// JavaScript Example
console.log("Hello, World!");

// Modern ES6 Features
const greet = (name) => \`Hello, \${name}!\`;

// Async/Await Example
async function fetchData() {
    try {
        const response = await fetch('https://api.example.com/data');
        const data = await response.json();
        console.log(data);
    } catch (error) {
        console.error('Error:', error);
    }
}

// Class Example
class Developer {
    constructor(name, skills = []) {
        this.name = name;
        this.skills = skills;
    }

    addSkill(skill) {
        this.skills.push(skill);
    }
}

const dev = new Developer('You', ['JavaScript', 'HTML', 'CSS']);
dev.addSkill('React');
console.log(dev);`,

            python: `# Python Example
print("Hello, World!")

# Modern Python Features
def greet(name: str) -> str:
    return f"Hello, {name}!"

# List Comprehension
numbers = [x for x in range(10) if x % 2 == 0]
print("Even numbers:", numbers)

# Class Example
class Developer:
    def __init__(self, name, skills=None):
        self.name = name
        self.skills = skills if skills else []

    def add_skill(self, skill):
        self.skills.append(skill)

dev = Developer("You", ["Python", "Django"])
dev.add_skill("Flask")
print(dev.__dict__)

# Async Example (Python 3.7+)
import asyncio

async def main():
    print("Async code running")
    await asyncio.sleep(1)
    print("Async code completed")

asyncio.run(main())`,

            java: `// Java Example
public class Main {
    public static void main(String[] args) {
        System.out.println("Hello, World!");

        // Modern Java Features (Java 11+)
        var message = "Hello from Java!";
        System.out.println(message);

        // Stream API Example
        var numbers = List.of(1, 2, 3, 4, 5);
        var evenNumbers = numbers.stream()
            .filter(n -> n % 2 == 0)
            .collect(Collectors.toList());
        System.out.println("Even numbers: " + evenNumbers);

        // Class Example
        var dev = new Developer("You", List.of("Java", "Spring"));
        dev.addSkill("Hibernate");
        System.out.println(dev);
    }
}

record Developer(String name, List<String> skills) {
    public void addSkill(String skill) {
        skills.add(skill);
    }
}`,

            cpp: `// C++ Example
#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

// Modern C++ Features (C++20)
auto greet(const string& name) -> string {
    return "Hello, " + name + "!";
}

// Template Example
template<typename T>
void printVector(const vector<T>& vec) {
    for (const auto& item : vec) {
        cout << item << " ";
    }
    cout << endl;
}

// Class Example
class Developer {
private:
    string name;
    vector<string> skills;

public:
    Developer(string name, initializer_list<string> skills)
        : name(name), skills(skills) {}

    void addSkill(const string& skill) {
        skills.push_back(skill);
    }

    void printInfo() const {
        cout << "Developer: " << name << endl;
        cout << "Skills: ";
        printVector(skills);
    }
};

int main() {
    cout << greet("World") << endl;

    vector<int> numbers = {1, 2, 3, 4, 5};
    numbers.erase(remove_if(numbers.begin(), numbers.end(),
        [](int n) { return n % 2 != 0; }),
        numbers.end());
    printVector(numbers);

    Developer dev("You", {"C++", "STL"});
    dev.addSkill("Boost");
    dev.printInfo();

    return 0;
}`,

            c: `// C Example
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

// Function pointer example
typedef void (*GreetFunc)(const char*);

void greet(const char* name) {
    printf("Hello, %s!\\n", name);
}

// Struct example
typedef struct {
    char name[50];
    char** skills;
    int skillCount;
} Developer;

Developer createDeveloper(const char* name) {
    Developer dev;
    strncpy(dev.name, name, sizeof(dev.name));
    dev.skills = NULL;
    dev.skillCount = 0;
    return dev;
}

void addSkill(Developer* dev, const char* skill) {
    dev->skills = realloc(dev->skills, (dev->skillCount + 1) * sizeof(char*));
    dev->skills[dev->skillCount] = strdup(skill);
    dev->skillCount++;
}

void printDeveloper(const Developer* dev) {
    printf("Developer: %s\\n", dev->name);
    printf("Skills: ");
    for (int i = 0; i < dev->skillCount; i++) {
        printf("%s%s", dev->skills[i], i < dev->skillCount - 1 ? ", " : "\\n");
    }
}

int main() {
    greet("World");

    Developer dev = createDeveloper("You");
    addSkill(&dev, "C");
    addSkill(&dev, "Pointers");
    addSkill(&dev, "Memory Management");
    printDeveloper(&dev);

    // Cleanup
    for (int i = 0; i < dev.skillCount; i++) {
        free(dev.skills[i]);
    }
    free(dev.skills);

    return 0;
}`,

            html: `<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeRunner Pro</title>
    <style>
        :root {
            --primary: #6c5ce7;
            --secondary: #00cec9;
        }

        body {
            font-family: 'Poppins', sans-serif;
            background: linear-gradient(135deg, #0f2027, #203a43, #2c5364);
            min-height: 100vh;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            color: white;
        }

        .container {
            text-align: center;
            max-width: 600px;
            padding: 2rem;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .btn {
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            color: white;
            border: none;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            margin-top: 1rem;
        }

        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Welcome to CodeRunner Pro</h1>
        <p>Professional Online Code Compiler</p>
        <button class="btn" onclick="alert('Hello from HTML!')">Click Me</button>
    </div>
</body>
</html>`,

            css: `/* Modern CSS Example with Variables and Animations */
:root {
    --primary: #6c5ce7;
    --secondary: #00cec9;
    --dark: #2d3436;
    --light: #f5f6fa;
}

body {
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, var(--dark), #1e272e);
    min-height: 100vh;
    margin: 0;
    display: flex;
    justify-content: center;
    align-items: center;
    color: var(--light);
}

.card {
    width: 300px;
    padding: 2rem;
    background: rgba(255, 255, 255, 0.1);
    backdrop-filter: blur(10px);
    border-radius: 20px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
    border: 1px solid rgba(255, 255, 255, 0.2);
    transition: all 0.3s ease;
}

.card:hover {
    transform: translateY(-10px);
    box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
}

h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
}

.btn {
    background: linear-gradient(90deg, var(--primary), var(--secondary));
    color: white;
    border: none;
    padding: 0.8rem 1.5rem;
    border-radius: 50px;
    font-size: 1rem;
    cursor: pointer;
    transition: all 0.3s ease;
    margin-top: 1rem;
}

.btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
}`,

            php: `<?php
// Modern PHP Example (PHP 8.0+)
declare(strict_types=1);

function greet(string $name): string {
    return "Hello, $name!";
}

// Named arguments example
function createDeveloper(string $name, array $skills = []): array {
    return compact('name', 'skills');
}

// Match expression (PHP 8.0+)
function getDeveloperLevel(int $experience): string {
    return match(true) {
        $experience < 1 => 'Junior',
        $experience >= 1 && $experience < 3 => 'Middle',
        $experience >= 3 => 'Senior',
        default => 'Unknown'
    };
}

// Arrow functions (PHP 7.4+)
$addSkill = fn(array $developer, string $skill): array => [
    ...$developer,
    'skills' => [...$developer['skills'], $skill]
];

// Class with constructor property promotion (PHP 8.0+)
class Developer {
    public function __construct(
        public string $name,
        public array $skills = []
    ) {}

    public function addSkill(string $skill): void {
        $this->skills[] = $skill;
    }

    public function __toString(): string {
        return sprintf(
            "Developer: %s\nSkills: %s",
            $this->name,
            implode(', ', $this->skills)
        );
    }
}

// Usage examples
echo greet("World") . "\n\n";

// Using named arguments
$dev = createDeveloper(name: "You", skills: ["PHP", "Laravel"]);
$dev = $addSkill($dev, "MySQL");
print_r($dev);

echo "\nLevel: " . getDeveloperLevel(2) . "\n\n";

// Using class
$phpDev = new Developer("PHP Expert", ["PHP", "Composer"]);
$phpDev->addSkill("Symfony");
echo $phpDev;

// Nullsafe operator example (PHP 8.0+)
$team = [
    'lead' => new Developer('Team Lead', ['PHP', 'Architecture']),
    'members' => [
        new Developer('Dev 1', ['PHP', 'Testing']),
        new Developer('Dev 2', ['JavaScript', 'Vue.js'])
    ]
];

echo "\n\nTeam lead first skill: " . ($team['lead']?->skills[0] ?? 'Unknown');
?>`
        };

        // Change code sample when language is changed
        document.getElementById('languageSelect').addEventListener('change', function() {
            const language = this.value;
            document.getElementById('codeEditor').value = sampleCodes[language] || '';
        });

        // Run code function
        function runCode() {
            const language = document.getElementById('languageSelect').value;
            const code = document.getElementById('codeEditor').value;
            const output = document.getElementById('output');
            const loading = document.getElementById('loading');
            const htmlPreview = document.getElementById('htmlPreview');

            // Show loading spinner
            loading.style.display = 'block';
            output.style.display = 'none';
            htmlPreview.style.display = 'none';

            // Simulate code execution (in a real app, this would be an API call to a backend)
            setTimeout(() => {
                loading.style.display = 'none';

                if (language === 'html') {
                    // For HTML, show in the iframe
                    htmlPreview.style.display = 'block';
                    htmlPreview.srcdoc = code;
                } else {
                    // For other languages, show simulated output
                    output.style.display = 'block';

                    // Simulate different outputs based on language
                    let result = '';
                    if (language === 'javascript') {
                        result = "Hello, World!\n\n{ name: 'You', skills: ['JavaScript', 'HTML', 'CSS', 'React'] }";
                    } else if (language === 'python') {
                        result = "Hello, World!\nEven numbers: [0, 2, 4, 6, 8]\n\n{'name': 'You', 'skills': ['Python', 'Django', 'Flask']}";
                    } else if (language === 'java') {
                        result = "Hello, World!\nHello from Java!\nEven numbers: [2, 4]\n\nDeveloper[name=You, skills=[Java, Spring, Hibernate]]";
                    } else if (language === 'cpp') {
                        result = "Hello, World!\n2 4 \nDeveloper: You\nSkills: C++ STL Boost ";
                    } else if (language === 'c') {
                        result = "Hello, World!\nDeveloper: You\nSkills: C, Pointers, Memory Management";
                    } else if (language === 'php') {
                        result = `Hello, World!\n\nArray\n(\n    [name] => You\n    [skills] => Array\n        (\n            [0] => PHP\n            [1] => Laravel\n            [2] => MySQL\n        )\n\n)\n\nLevel: Middle\n\nDeveloper: PHP Expert\nSkills: PHP, Composer, Symfony\n\nTeam lead first skill: PHP`;
                    } else if (language === 'css') {
                        result = "CSS compiled successfully!\nPreview would show styled elements.";
                    } else {
                        result = "Code executed successfully!\n(Simulated output - in a real app, this would show actual execution results)";
                    }

                    output.innerHTML = `
                        <div class="terminal-header">
                            <div class="terminal-dots">
                                <div class="terminal-dot"></div>
                                <div class="terminal-dot"></div>
                                <div class="terminal-dot"></div>
                            </div>
                            <div class="terminal-title">CodeRunner Pro Terminal - ${language.toUpperCase()}</div>
                        </div>
                        <div>${result.replace(/\n/g, '<br>')}</div>
                    `;
                }
            }, 1500);
        }

        // Clear code function
        function clearCode() {
            document.getElementById('codeEditor').value = '';
            document.getElementById('output').innerHTML = `
                <div class="terminal-header">
                    <div class="terminal-dots">
                        <div class="terminal-dot"></div>
                        <div class="terminal-dot"></div>
                        <div class="terminal-dot"></div>
                    </div>
                    <div class="terminal-title">CodeRunner Pro Terminal</div>
                </div>
                <div>Output cleared. Ready for new code execution.</div>
            `;
            document.getElementById('htmlPreview').style.display = 'none';
        }

        // Initialize the app
        window.onload = function() {
            createBgElements();

            // Set focus on code editor after splash screen
            setTimeout(() => {
                document.getElementById('codeEditor').focus();
            }, 2500);
        };
    </script>
</body>
</html>